# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —è–∑—ã–∫–∞ Pyrl

**–í–µ—Ä—Å–∏—è:** 2.3.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-02-24

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
3. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
4. [–°–∏–Ω—Ç–∞–∫—Å–∏—Å](#—Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
5. [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–∏–≥–∏–ª—ã](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–∏-—Å–∏–≥–∏–ª—ã)
6. [–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö](#—Ç–∏–ø—ã-–¥–∞–Ω–Ω—ã—Ö)
7. [–û–ø–µ—Ä–∞—Ç–æ—Ä—ã](#–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã)
8. [–£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](#—É–ø—Ä–∞–≤–ª—è—é—â–∏–µ-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
9. [–§—É–Ω–∫—Ü–∏–∏](#—Ñ—É–Ω–∫—Ü–∏–∏)
10. [–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#–∞–Ω–æ–Ω–∏–º–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏) *(NEW v2.0)*
11. [–ö–ª–∞—Å—Å—ã –∏ –æ–±—ä–µ–∫—Ç—ã](#–∫–ª–∞—Å—Å—ã-–∏-–æ–±—ä–µ–∫—Ç—ã) *(NEW v2.0)*
12. [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)
13. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-sqlite) *(NEW v2.3)*
14. [API —Å–µ—Ä–≤–µ—Ä](#api-—Å–µ—Ä–≤–µ—Ä)
15. [Docker](#docker)
16. [–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ —è–∑—ã–∫–∞](#–≥—Ä–∞–º–º–∞—Ç–∏–∫–∞-—è–∑—ã–∫–∞) *(NEW v2.2)*
17. [–ü—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∏–º–µ—Ä—ã)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

Pyrl ‚Äî —ç—Ç–æ –≥–∏–±—Ä–∏–¥–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω—ã–π Python –∏ Perl. –û–Ω —Å–æ—á–µ—Ç–∞–µ—Ç —á–∏—Å—Ç—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Python —Å –º–æ—â–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Å–∏–≥–∏–ª–æ–≤ Perl, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–°–∏–≥–∏–ª—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: `$scalar`, `@array`, `%hash`, `&function`
- **Python-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å**: –æ—Ç—Å—Ç—É–ø—ã –≤–º–µ—Å—Ç–æ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**: —Ç–∏–ø—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–ë–æ–≥–∞—Ç–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**: –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, —Å—Ç—Ä–æ–∫–∏, —Å–ø–∏—Å–∫–∏, —Ö–µ—à–∏
- **–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤**: —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **HTTP/JSON**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ–±-–∑–∞–ø—Ä–æ—Å–æ–≤
- **–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö Pyrl

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ò–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone http://178.140.10.58:8082/ai/pyrl-project.git
cd pyrl-project

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install -e .
```

### –ß–µ—Ä–µ–∑ Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -f docker/Dockerfile.server -t pyrl-server:latest .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8000:8000 pyrl-server:latest
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ REPL
python pyrl_cli.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
python pyrl_cli.py --version
```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Hello World

```pyrl
print("Hello, World!")
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```pyrl
$name = "Alice"
$age = 30
@scores = [95, 87, 92, 88]
%person = {name: "Bob", age: 25}
```

### –§—É–Ω–∫—Ü–∏–∏

```pyrl
def greet($name):
    print("–ü—Ä–∏–≤–µ—Ç, " + $name + "!")

greet("–ú–∏—Ä")
```

### –¶–∏–∫–ª—ã

```pyrl
for $i in range(5):
    print($i)
```

---

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

–ü—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ Pyrl —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤. –ë–ª–æ–∫–∏ –∫–æ–¥–∞ –≤—ã–¥–µ–ª—è—é—Ç—Å—è –æ—Ç—Å—Ç—É–ø–∞–º–∏ (–∫–∞–∫ –≤ Python), –∞ –Ω–µ —Ñ–∏–≥—É—Ä–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏.

```pyrl
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
$x = 10

if $x > 0:
    # –ë–ª–æ–∫ —Å –æ—Ç—Å—Ç—É–ø–æ–º
    print("–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ")
elif $x < 0:
    print("–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ")
else:
    print("–ù–æ–ª—å")
```

### –û—Ç—Å—Ç—É–ø—ã

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 4 –ø—Ä–æ–±–µ–ª–∞ –¥–ª—è –æ—Ç—Å—Ç—É–ø–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ —Ç–∞–±—É–ª—è—Ü–∏—é. –°–º–µ—à–∏–≤–∞–Ω–∏–µ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

```pyrl
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ
if True:
    print("OK")
    if False:
        print("Nested")

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Å–º–µ—à–∞–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã)
if True:
        print("Tab")
    print("Spaces")  # –û—à–∏–±–∫–∞!
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–∏–≥–∏–ª—ã

### –°–∏–≥–∏–ª—ã

Pyrl –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–≥–∏–ª—ã –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

| –°–∏–≥–∏–ª | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| `$` | –°–∫–∞–ª—è—Ä | –û–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ (—á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞, –±—É–ª–µ–≤–æ) |
| `@` | –ú–∞—Å—Å–∏–≤ | –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π |
| `%` | –•–µ—à | –°–ª–æ–≤–∞—Ä—å –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ |
| `&` | –§—É–Ω–∫—Ü–∏—è | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é |

### –°–∫–∞–ª—è—Ä—ã

```pyrl
$name = "Alice"
$age = 30
$pi = 3.14159
$active = True
```

### –ú–∞—Å—Å–∏–≤—ã

```pyrl
@numbers = [1, 2, 3, 4, 5]
@mixed = [1, "two", 3.0, True]
@empty = []

# –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É
$first = @numbers[0]
$last = @numbers[-1]

# –°—Ä–µ–∑—ã
@subset = @numbers[1:3]
```

### –•–µ—à–∏

```pyrl
%person = {name: "Alice", age: 30, active: True}

# –î–æ—Å—Ç—É–ø –ø–æ –∫–ª—é—á—É (Python-style –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏)
$name = %person["name"]
$age = %person["age"]

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ
%person["email"] = "alice@example.com"
```

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏

```pyrl
def double($x):
    return $x * 2

&func = &double
$result = &func(5)  # 10
```

---

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### –ß–∏—Å–ª–∞

```pyrl
$int = 42
$float = 3.14159
$neg = -17
$hex = 0xFF
$bin = 0b1010
$sci = 1.5e10
```

### –°—Ç—Ä–æ–∫–∏

```pyrl
$single = 'Hello'
$double = "World"
$multi = """
–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–∞—è
—Å—Ç—Ä–æ–∫–∞
"""

# –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è (–≤ –¥–≤–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–∫–∞—Ö)
$name = "Alice"
$greeting = "–ü—Ä–∏–≤–µ—Ç, $name!"
```

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

```pyrl
$true = True
$false = False
```

### None

```pyrl
$value = None
```

---

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã

### –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `+` | –°–ª–æ–∂–µ–Ω–∏–µ | `5 + 3` ‚Üí `8` |
| `-` | –í—ã—á–∏—Ç–∞–Ω–∏–µ | `5 - 3` ‚Üí `2` |
| `*` | –£–º–Ω–æ–∂–µ–Ω–∏–µ | `5 * 3` ‚Üí `15` |
| `/` | –î–µ–ª–µ–Ω–∏–µ | `6 / 3` ‚Üí `2.0` |
| `//` | –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ | `7 // 3` ‚Üí `2` |
| `%` | –û—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è | `7 % 3` ‚Üí `1` |
| `**` | –í–æ–∑–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–µ–ø–µ–Ω—å | `2 ** 3` ‚Üí `8` |

### –°—Ä–∞–≤–Ω–µ–Ω–∏—è

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `==` | –†–∞–≤–Ω–æ | `5 == 5` ‚Üí `True` |
| `!=` | –ù–µ —Ä–∞–≤–Ω–æ | `5 != 3` ‚Üí `True` |
| `<` | –ú–µ–Ω—å—à–µ | `3 < 5` ‚Üí `True` |
| `>` | –ë–æ–ª—å—à–µ | `5 > 3` ‚Üí `True` |
| `<=` | –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ | `3 <= 3` ‚Üí `True` |
| `>=` | –ë–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ | `5 >= 3` ‚Üí `True` |

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `and` | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò | `True and False` ‚Üí `False` |
| `or` | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò | `True or False` ‚Üí `True` |
| `not` | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ù–ï | `not True` ‚Üí `False` |

---

## –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –£—Å–ª–æ–≤–∏—è (if/elif/else)

```pyrl
$x = 10

if $x > 0:
    print("–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ")
elif $x < 0:
    print("–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ")
else:
    print("–ù–æ–ª—å")
```

### –¶–∏–∫–ª for

```pyrl
# –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É
for $i in range(5):
    print($i)

# –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –º–∞—Å—Å–∏–≤—É
@items = ["—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω", "–∞–ø–µ–ª—å—Å–∏–Ω"]
for $item in @items:
    print($item)

# –ò—Ç–µ—Ä–∞—Ü–∏—è —Å –∏–Ω–¥–µ–∫—Å–æ–º
for $i, $item in enumerate(@items):
    print($i + ": " + $item)
```

### –¶–∏–∫–ª while

```pyrl
$x = 0
while $x < 10:
    print($x)
    $x = $x + 1
```

### break –∏ continue

```pyrl
for $i in range(10):
    if $i == 3:
        continue  # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å 3
    if $i == 7:
        break     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ 7
    print($i)
```

---

## –§—É–Ω–∫—Ü–∏–∏

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

```pyrl
def greet($name):
    print("–ü—Ä–∏–≤–µ—Ç, " + $name + "!")

greet("Alice")
```

### –í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è

```pyrl
def add($a, $b):
    return $a + $b

$result = add(5, 3)  # 8
```

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏

```pyrl
def double($x):
    return $x * 2

&func = &double
$result = &func(5)  # 10
```

---

## –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ *(NEW v2.0)*

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –±–ª–æ—á–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:

```pyrl
&double($x) = {
    return $x * 2
}

print(&double(5))  # 10
```

### –ë–ª–æ—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

–¢–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è —Ç–æ—á–∫–æ–π —Å –∑–∞–ø—è—Ç–æ–π:

```pyrl
&reverse_string($str) = {
    $reversed = "";
    $len = len($str);
    $i = $len - 1;
    while $i >= 0 {
        $reversed = $reversed + $str[$i];
        $i = $i - 1
    };
    return $reversed
}

print(&reverse_string("hello"))  # "olleh"
```

### –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –±–ª–æ–∫–∞—Ö

–í–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `if`, `while`, `for`:

```pyrl
&abs($x) = {
    if $x < 0 {
        return -$x
    };
    return $x
}

&sum_to($n) = {
    $sum = 0;
    for $i in range($n + 1) {
        $sum = $sum + $i
    };
    return $sum
}

print(&abs(-5))      # 5
print(&sum_to(10))   # 55
```

### –°—Å—ã–ª–∫–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å:

```pyrl
&greet($name) = {
    return "Hello, " + $name + "!"
}

$greeter = &greet
print($greeter("World"))  # "Hello, World!"
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```pyrl
&is_palindrome($str) = {
    $clean = lower($str);
    $rev = &reverse_string($clean);
    return $clean == $rev
}

print(&is_palindrome("racecar"))  # True
print(&is_palindrome("hello"))    # False
```

---

## –ö–ª–∞—Å—Å—ã –∏ –æ–±—ä–µ–∫—Ç—ã *(NEW v2.0)*

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞

Pyrl –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –û–û–ü —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –∫–ª–∞—Å—Å–æ–≤:

```pyrl
class Person {
    prop name = "Unknown"
    prop age = 0
    
    init($name, $age) = {
        $name = $name;
        $age = $age
    }
    
    method get_name() = {
        return $name
    }
    
    method greet() = {
        return "–ü—Ä–∏–≤–µ—Ç, —è " + $name
    }
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞

```pyrl
$p = Person("Alice", 30)
print($p.get_name())  # "Alice"
print($p.greet())     # "–ü—Ä–∏–≤–µ—Ç, —è Alice"
```

### –°–≤–æ–π—Å—Ç–≤–∞ (prop)

–°–≤–æ–π—Å—Ç–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º `prop`:

```pyrl
class Rectangle {
    prop width = 0
    prop height = 0
    prop area = 0
    
    init($w, $h) = {
        $width = $w;
        $height = $h;
        $area = $width * $height
    }
}

$rect = Rectangle(5, 3)
print($rect.area)  # 15
```

### –ú–µ—Ç–æ–¥—ã (method)

–ú–µ—Ç–æ–¥—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º `method`:

```pyrl
class Counter {
    prop count = 0
    
    method increment() = {
        $count = $count + 1
    }
    
    method get() = {
        return $count
    }
}

$c = Counter()
$c.increment()
$c.increment()
print($c.get())  # 2
```

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (init)

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º `init`:

```pyrl
class Point {
    prop x = 0
    prop y = 0
    
    init($x, $y) = {
        $x = $x;
        $y = $y
    }
    
    method distance() = {
        return sqrt($x * $x + $y * $y)
    }
}

$p = Point(3, 4)
print($p.distance())  # 5.0
```

### –ü—Ä–∏–º–µ—Ä: –°—Ç–µ–∫

```pyrl
class Stack {
    prop items = []
    
    init() = {
        $items = []
    }
    
    method push($item) = {
        append($items, $item)
    }
    
    method pop() = {
        return pop($items)
    }
    
    method is_empty() = {
        return len($items) == 0
    }
}

$stack = Stack()
$stack.push(1)
$stack.push(2)
$stack.push(3)
print($stack.pop())       # 3
print($stack.is_empty())  # False
```

---

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –í–≤–æ–¥/–≤—ã–≤–æ–¥

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `print(*args)` | –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å |
| `input(prompt)` | –ß—Ç–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ |

### –¢–∏–ø—ã

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `int(x)` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ü–µ–ª–æ–µ |
| `float(x)` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä–æ–±–Ω–æ–µ |
| `str(x)` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É |
| `bool(x)` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –±—É–ª–µ–≤–æ |
| `list(x)` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–ø–∏—Å–æ–∫ |
| `dict(x)` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–ª–æ–≤–∞—Ä—å |
| `type(x)` | –¢–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è |

### –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `abs(x)` | –ú–æ–¥—É–ª—å —á–∏—Å–ª–∞ |
| `round(x, n)` | –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ |
| `min(*args)` | –ú–∏–Ω–∏–º—É–º |
| `max(*args)` | –ú–∞–∫—Å–∏–º—É–º |
| `sum(iter)` | –°—É–º–º–∞ |
| `pow(x, y)` | –°—Ç–µ–ø–µ–Ω—å |
| `sqrt(x)` | –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å |
| `sin(x)`, `cos(x)`, `tan(x)` | –¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è |
| `log(x, base)` | –õ–æ–≥–∞—Ä–∏—Ñ–º |
| `exp(x)` | –≠–∫—Å–ø–æ–Ω–µ–Ω—Ç–∞ |
| `floor(x)`, `ceil(x)` | –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–Ω–∏–∑/–≤–≤–µ—Ä—Ö |

### –°—Ç—Ä–æ–∫–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `lower(s)` | –í –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä |
| `upper(s)` | –í –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä |
| `strip(s)` | –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–±–µ–ª—ã |
| `split(s, sep)` | –†–∞–∑–±–∏—Ç—å —Å—Ç—Ä–æ–∫—É |
| `join(sep, list)` | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ |
| `replace(s, old, new)` | –ó–∞–º–µ–Ω–∞ |
| `find(s, sub)` | –ü–æ–∏—Å–∫ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ |
| `startswith(s, prefix)` | –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å |
| `endswith(s, suffix)` | –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ |

### –°–ø–∏—Å–∫–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `append(list, x)` | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç |
| `extend(list, items)` | –†–∞—Å—à–∏—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ |
| `insert(list, i, x)` | –í—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç |
| `remove(list, x)` | –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç |
| `pop(list, i)` | –ò–∑–≤–ª–µ—á—å —ç–ª–µ–º–µ–Ω—Ç |
| `sort(list)` | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ |
| `reverse(list)` | –†–∞–∑–≤–æ—Ä–æ—Ç |
| `len(list)` | –î–ª–∏–Ω–∞ |

### –•–µ—à–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `keys(dict)` | –ö–ª—é—á–∏ |
| `values(dict)` | –ó–Ω–∞—á–µ–Ω–∏—è |
| `items(dict)` | –ü–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ |
| `get(dict, key, default)` | –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ |

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `re_match(pattern, string)` | –ü–æ–∏—Å–∫ –≤ –Ω–∞—á–∞–ª–µ |
| `re_search(pattern, string)` | –ü–æ–∏—Å–∫ –≤ —Å—Ç—Ä–æ–∫–µ |
| `re_findall(pattern, string)` | –í—Å–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è |
| `re_sub(pattern, repl, string)` | –ó–∞–º–µ–Ω–∞ –ø–æ —à–∞–±–ª–æ–Ω—É |

### HTTP –∏ JSON

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `http_get(url, timeout)` | HTTP GET –∑–∞–ø—Ä–æ—Å |
| `http_post(url, data, timeout)` | HTTP POST –∑–∞–ø—Ä–æ—Å |
| `json_parse(string)` | –ü–∞—Ä—Å–∏–Ω–≥ JSON |
| `json_stringify(obj, indent)` | –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON |

### –û–∫—Ä—É–∂–µ–Ω–∏–µ *(NEW v2.3)*

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `env_get(key, default)` | –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| `env_set(key, value)` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| `env_keys()` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è |

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö *(NEW v2.3)*

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `db_connect(filename)` | –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ SQLite –±–∞–∑–µ |
| `db_close(handle)` | –ó–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ |
| `db_execute(handle, sql, params)` | –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL (INSERT, UPDATE, DELETE) |
| `db_query(handle, sql, params)` | SELECT –∑–∞–ø—Ä–æ—Å (–≤—Å–µ —Å—Ç—Ä–æ–∫–∏) |
| `db_query_one(handle, sql, params)` | SELECT –∑–∞–ø—Ä–æ—Å (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞) |
| `db_begin(handle)` | –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é |
| `db_commit(handle)` | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é |
| `db_rollback(handle)` | –û—Ç–∫–∞—Ç–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é |
| `db_tables(handle)` | –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü |

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite *(NEW v2.3)*

Pyrl –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É SQLite –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –ø–∞–ø–∫–µ `data/`:

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –∏–º–µ–Ω–µ–º pyrl-—Ñ–∞–π–ª–∞
python scripts/run_web_app.py --file examples/web_server_auth.pyrl
# –ë–∞–∑–∞: data/web_server_auth.db

python scripts/run_web_app.py --file examples/my_app.pyrl
# –ë–∞–∑–∞: data/my_app.db
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `PYRL_DB_PATH` | –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| `PYRL_APP_NAME` | –ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–º—è pyrl-—Ñ–∞–π–ª–∞) |
| `PYRL_DATA_DIR` | –ü–∞–ø–∫–∞ –¥–∞–Ω–Ω—ã—Ö (`data/`) |
| `PYRL_PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| `PYRL_HOST` | –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ |

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```pyrl
# –ü–æ–ª—É—á–∏—Ç—å –ø—É—Ç—å –∫ –±–∞–∑–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
$DB_PATH = env_get("PYRL_DB_PATH", "data/app.db")

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ
$db = db_connect($DB_PATH)

# –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
db_execute($db, """
    CREATE TABLE IF NOT EXISTS users (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        username TEXT UNIQUE NOT NULL,
        password TEXT NOT NULL,
        role TEXT DEFAULT 'User',
        created_at REAL
    )
""")

# –í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
$now = time()
db_execute($db, "INSERT INTO users (username, password, role, created_at) VALUES (?, ?, ?, ?)",
    ["admin", "secret123", "Administrator", $now])

# –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
$result = db_query($db, "SELECT * FROM users WHERE role = ?", ["Administrator"])
for $user in $result["rows"]:
    print($user["username"])

# –ó–∞–ø—Ä–æ—Å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
$user = db_query_one($db, "SELECT * FROM users WHERE username = ?", ["admin"])
if $user["row"] != None:
    print("Found: " + $user["row"]["username"])
```

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```pyrl
db_begin($db)
try:
    db_execute($db, "UPDATE accounts SET balance = balance - ? WHERE id = ?", [100, 1])
    db_execute($db, "UPDATE accounts SET balance = balance + ? WHERE id = ?", [100, 2])
    db_commit($db)
except:
    db_rollback($db)
```

### –ü—Ä–∏–º–µ—Ä —Å—Ö–µ–º—ã –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```pyrl
# –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
db_execute($db, """
    CREATE TABLE IF NOT EXISTS users (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        username TEXT UNIQUE NOT NULL,
        password TEXT NOT NULL,
        role TEXT NOT NULL DEFAULT 'User',
        name TEXT,
        email TEXT,
        created_at REAL,
        last_login REAL
    )
""")

# –¢–∞–±–ª–∏—Ü–∞ —Å–µ—Å—Å–∏–π
db_execute($db, """
    CREATE TABLE IF NOT EXISTS sessions (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        token TEXT UNIQUE NOT NULL,
        username TEXT NOT NULL,
        created_at REAL NOT NULL,
        expires_at REAL NOT NULL,
        ip_address TEXT,
        user_agent TEXT
    )
""")

# –õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
db_execute($db, """
    CREATE TABLE IF NOT EXISTS activity_log (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        username TEXT,
        action TEXT NOT NULL,
        details TEXT,
        ip_address TEXT,
        created_at REAL NOT NULL
    )
""")
```

---

## –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤

### –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤

```pyrl
# –§—É–Ω–∫—Ü–∏—è load_builtin_plugins() –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
# –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è
$plugins = load_builtin_plugins()
$plugins{"print"}("Hello!")
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞

```python
# –í Python –∫–æ–¥–µ
from src.core.builtins import register_plugin

def my_function(x):
    return x * 2

register_plugin("myplugin", {"double": my_function})
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Pyrl

```pyrl
$result = myplugin_double(5)  # 10
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è PYRL_PLUGINS_PATH

```bash
export PYRL_PLUGINS_PATH=/path/to/plugins:/another/path
python pyrl_cli.py
```

---

## –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

Pyrl –≤–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –æ–±—É—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∫–æ–¥–∞. –ú–æ–¥–µ–ª—å –∏–∑—É—á–∞–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —è–∑—ã–∫–∞ Pyrl.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏

```
models/pyrl-model/
‚îú‚îÄ‚îÄ config.json           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ (768 hidden, 12 layers)
‚îú‚îÄ‚îÄ pytorch_model.bin     # –í–µ—Å–∞ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ vocab.json           # –°–ª–æ–≤–∞—Ä—å —Ç–æ–∫–µ–Ω–æ–≤ (1778 —Ç–æ–∫–µ–Ω–æ–≤)
‚îú‚îÄ‚îÄ tokenizer_config.json # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ special_tokens_map.json
‚îî‚îÄ‚îÄ training_stats.json  # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è
```

### –û–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CLI

–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º REPL:

```
pyrl> train                          # –û–±—É—á–∏—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
pyrl> train --epochs 20 --batch-size 64
pyrl> train --examples path/to/examples.pyrl
```

### –û–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Makefile

```bash
make train          # –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å (10 epochs)
make train-full     # –ü–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (20 epochs, batch 64)
make train-quick    # –ë—ã—Å—Ç—Ä–æ–µ –æ–±—É—á–µ–Ω–∏–µ (3 epochs)
make train-custom EXAMPLES=path EPOCHS=20
```

### –û–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
# –ë–∞–∑–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ
python scripts/train_model.py --examples examples/10000_examples.pyrl

# –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
python scripts/train_model.py \
    --examples examples/10000_examples.pyrl \
    --epochs 20 \
    --batch-size 64 \
    --learning-rate 0.0001 \
    --hidden-size 768 \
    --layers 12

# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
python scripts/train_model.py --examples-dir examples/
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------------|----------|
| `--examples` | - | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ |
| `--examples-dir` | - | –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ |
| `--output` | models/pyrl-model | –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ |
| `--epochs` | 10 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–æ—Ö –æ–±—É—á–µ–Ω–∏—è |
| `--batch-size` | 32 | –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ |
| `--learning-rate` | 0.0001 | –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è |
| `--max-length` | 512 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| `--hidden-size` | 768 | –†–∞–∑–º–µ—Ä —Å–∫—Ä—ã—Ç–æ–≥–æ —Å–ª–æ—è |
| `--layers` | 12 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—ë–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–∞ |
| `--heads` | 12 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ–≤ –≤–Ω–∏–º–∞–Ω–∏—è |

### –¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä Pyrl

Pyrl –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:

**–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã:**
- `<pad>`, `<unk>`, `<bos>`, `<eos>`, `<mask>`
- `<newline>`, `<indent>`, `<dedent>`

**–°–∏–≥–∏–ª—ã:**
- `$` (—Å–∫–∞–ª—è—Ä), `@` (–º–∞—Å—Å–∏–≤), `%` (—Ö–µ—à), `&` (—Ñ—É–Ω–∫—Ü–∏—è)

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:**
- `if`, `elif`, `else`, `while`, `for`, `in`, `def`, `return`, `class`, `lambda` –∏ –¥—Ä.

**–û–ø–µ—Ä–∞—Ç–æ—Ä—ã:**
- `+`, `-`, `*`, `/`, `**`, `//`, `==`, `!=`, `<`, `>`, `<=`, `>=`, `=` –∏ –¥—Ä.

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `print`, `len`, `range`, `str`, `int`, `float`, `list`, `dict` –∏ –¥—Ä.

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ü—Ä–∏–º–µ—Ä–æ–≤ | 334 |
| –¢–æ–∫–µ–Ω–æ–≤ | 13,898 |
| –°–ª–æ–≤–∞—Ä—å | 1,778 |
| Val Loss | 0.70 |

### –ß–µ–∫–ø–æ–∏–Ω—Ç—ã

–í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ–∫–ø–æ–∏–Ω—Ç—ã:

```
checkpoints/
‚îú‚îÄ‚îÄ checkpoint_epoch_1.json
‚îú‚îÄ‚îÄ checkpoint_epoch_2.json
‚îî‚îÄ‚îÄ ...
```

–ö–∞–∂–¥—ã–π —á–µ–∫–ø–æ–∏–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ù–æ–º–µ—Ä —ç–ø–æ—Ö–∏
- Validation loss
- –†–∞–∑–º–µ—Ä —Å–ª–æ–≤–∞—Ä—è
- –í—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É

---

## API —Å–µ—Ä–≤–µ—Ä

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
python pyrl_server.py

# –ß–µ—Ä–µ–∑ uvicorn
uvicorn pyrl_server:app --host 0.0.0.0 --port 8000
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ |
| GET | `/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è |
| POST | `/execute` | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ |
| POST | `/tokenize` | –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è |
| POST | `/parse` | –ü–∞—Ä—Å–∏–Ω–≥ –≤ AST |
| POST | `/reset` | –°–±—Ä–æ—Å VM |
| GET | `/variables` | –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| GET | `/plugins` | –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã |
| POST | `/plugins/load` | –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–∞–≥–∏–Ω |
| GET | `/config` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| GET | `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞:**

```bash
curl -X POST http://localhost:8000/execute \
    -H "Content-Type: application/json" \
    -d '{"code": "$x = 10\nprint($x)"}'
```

**–û—Ç–≤–µ—Ç:**

```json
{
    "success": true,
    "result": null,
    "output": "10\n",
    "variables": {"x": 10}
}
```

**–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è:**

```bash
curl -X POST http://localhost:8000/tokenize \
    -H "Content-Type: application/json" \
    -d '{"code": "$x = 10"}'
```

---

## Docker

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—Ä–∞–∑—ã

| –û–±—Ä–∞–∑ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `Dockerfile.server` | API —Å–µ—Ä–≤–µ—Ä |
| `Dockerfile.console` | CLI –∫–æ–Ω—Å–æ–ª—å |
| `Dockerfile.dev` | –°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| `Dockerfile.training` | –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ |
| `Dockerfile.model-generator` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ |
| `Dockerfile.model-inference` | –ò–Ω—Ñ–µ—Ä–µ–Ω—Å –º–æ–¥–µ–ª–∏ |

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –æ–±—Ä–∞–∑–æ–≤
make docker-build

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
make docker-run-server

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ docker-compose
make docker-up
```

### Docker Compose

```yaml
services:
  pyrl-server:
    build:
      context: .
      dockerfile: docker/Dockerfile.server
    ports:
      - "8000:8000"
    volumes:
      - ./models:/app/models
```

---

## –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ —è–∑—ã–∫–∞ *(NEW v2.2)*

Pyrl –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Lark-–ø–∞—Ä—Å–µ—Ä —Å —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–æ–π LALR. –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ `src/core/lark_parser.py`.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

```
start: (_NL | statement)*

statement: simple_stmt _NL?
         | compound_stmt

simple_stmt: return_statement
           | assignment
           | print_statement
           | assertion_statement
           | expression_statement
           | func_var_definition

compound_stmt: function_definition
             | class_definition
             | conditional
             | loop
             | test_block
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å —Å–∏–≥–∏–ª–∞–º–∏

```
SCALAR_VAR: "$" IDENT    # $name - —Å–∫–∞–ª—è—Ä
ARRAY_VAR: "@" IDENT     # @items - –º–∞—Å—Å–∏–≤
HASH_VAR: "%" IDENT      # %data - —Ö–µ—à
FUNC_VAR: "&" IDENT      # &func - —Ñ—É–Ω–∫—Ü–∏—è
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã

```
COMP_OP: "==" | "!=" | "<=" | ">=" | "=~" | "!~" | "<" | ">"
ADD_OP: "+" | "-"
MUL_OP: "//" | "*" | "/" | "%"
POW_OP: "**" | "^"
NOT_OP: "!"
```

### –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞

```
if, elif, else, while, for, in, def, return, class, extends,
method, init, prop, test, print, assert, and, or, not, True, False, None
```

### –í—ã—Ä–∞–∂–µ–Ω–∏—è

```
expression: or_expr

or_expr: and_expr (OR and_expr)*
and_expr: comparison_expr (AND comparison_expr)*
comparison_expr: additive_expr ((COMP_OP | IN) additive_expr)*
additive_expr: multiplicative_expr (ADD_OP multiplicative_expr)*
multiplicative_expr: power_expr (MUL_OP power_expr)*
power_expr: unary_expr (POW_OP unary_expr)*
```

### –§—É–Ω–∫—Ü–∏–∏

```
function_definition: DEF IDENT "(" [arg_list] ")" ":" _NL INDENT (_NL | statement)+ DEDENT

func_var_definition: FUNC_VAR "(" [arg_list] ")" "=" block
                   | FUNC_VAR "(" [arg_list] ")" ":" _NL INDENT statement+ DEDENT
```

### –ö–ª–∞—Å—Å—ã

```
class_definition: CLASS IDENT [EXTENDS IDENT] "{" class_member* "}"
                | CLASS IDENT [EXTENDS IDENT] ":" _NL INDENT (_NL | class_member_indented)+ DEDENT

class_member: method_def | property_def
method_def: METHOD IDENT "(" [arg_list] ")" "=" block
          | INIT "(" [arg_list] ")" "=" block
property_def: PROP IDENT ["=" expression]
```

### –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

```
conditional: IF expression ":" _NL INDENT (_NL | statement)+ DEDENT else_clause?
           | IF expression "{" [block_stmt]* "}" [ELSE "{" [block_stmt]* "}"]

loop: FOR SCALAR_VAR IN expression ":" _NL INDENT (_NL | statement)+ DEDENT
    | WHILE expression ":" _NL INDENT (_NL | statement)+ DEDENT
    | FOR SCALAR_VAR IN expression "{" [block_stmt]* "}"
    | WHILE expression "{" [block_stmt]* "}"
```

### –ë–ª–æ–∫–∏

```
block: "{" [block_stmt (";"? block_stmt)* ";"?] "}"
block_stmt: return_statement
          | print_statement
          | assignment
          | expression_statement
          | FOR SCALAR_VAR IN expression "{" [block_stmt]* "}"
          | WHILE expression "{" [block_stmt]* "}"
          | IF expression "{" [block_stmt]* "}" elif_block* [ELSE "{" [block_stmt]* "}"]
```

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

```
regex_literal: "r" STRING              # r"pattern"
             | PERL_REGEX              # m/pattern/, s/old/new/

PERL_REGEX: /m\/[^\/]+\/[imsxg]*/
          | /qr\/[^\/]+\/[imsxg]*/
          | /s\/[^\/]*\/[^\/]*\/[imsxg]*/
```

### –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–µ

–°–∫—Ä–∏–ø—Ç `scripts/train_model.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:

```bash
# –û–±—É—á–µ–Ω–∏–µ —Å –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏
python scripts/train_model.py --examples-dir examples/

# –ë–µ–∑ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
python scripts/train_model.py --no-grammar
```

–ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
- –¢–∏–ø—ã AST-—É–∑–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–∏–ª–æ–≤ ($, @, %, &)
- –ß–∞—Å—Ç–æ—Ç–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- –ß–∞—Å—Ç–æ—Ç–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

---

## –ü—Ä–∏–º–µ—Ä—ã

### –§–∞–∫—Ç–æ—Ä–∏–∞–ª

```pyrl
def factorial($n):
    if $n <= 1:
        return 1
    return $n * factorial($n - 1)

$result = factorial(5)  # 120
```

### –ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏

```pyrl
def fibonacci($n):
    if $n <= 1:
        return $n
    return fibonacci($n - 1) + fibonacci($n - 2)

for $i in range(10):
    print(fibonacci($i))
```

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—É–∑—ã—Ä—å–∫–æ–º

```pyrl
def bubble_sort(@arr):
    $n = len(@arr)
    for $i in range($n):
        for $j in range($n - $i - 1):
            if @arr[$j] > @arr[$j + 1]:
                $temp = @arr[$j]
                @arr[$j] = @arr[$j + 1]
                @arr[$j + 1] = $temp
    return @arr

@sorted = bubble_sort([64, 34, 25, 12, 22, 11, 90])
```

### HTTP –∑–∞–ø—Ä–æ—Å

```pyrl
$response = http_get("https://api.example.com/data")
if $response{"status"} == 200:
    $data = json_parse($response{"data"})
    print($data)
```

---

## –í–µ–±-—Å–µ—Ä–≤–µ—Ä —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π *(NEW v2.3)*

–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Pyrl —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º, –±—ç–∫–µ–Ω–¥–æ–º –∏ SQLite –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `examples/web_server_auth.pyrl`.

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
cd pyrl-project
python scripts/run_web_app.py --file examples/web_server_auth.pyrl --port 8080
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080/`

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ `data/web_server_auth.db`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ pyrl-—Ñ–∞–π–ª–∞

```pyrl
# 1. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
$APP_NAME = "Pyrl Admin"
$APP_VERSION = "2.0.0"
$PORT = env_get("PYRL_PORT", "8080")
$SECRET_KEY = env_get("PYRL_SECRET", "pyrl_secret_key_2024")
$DB_PATH = env_get("PYRL_DB_PATH", "data/web_server_auth.db")

# 2. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ë–ê–ó–´ –î–ê–ù–ù–´–•
$db = db_connect($DB_PATH)

def init_database():
    db_execute($db, """
        CREATE TABLE IF NOT EXISTS users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            username TEXT UNIQUE NOT NULL,
            password TEXT NOT NULL,
            role TEXT NOT NULL DEFAULT 'User',
            name TEXT,
            email TEXT,
            created_at REAL
        )
    """)
    
    db_execute($db, """
        CREATE TABLE IF NOT EXISTS sessions (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            token TEXT UNIQUE NOT NULL,
            username TEXT NOT NULL,
            created_at REAL NOT NULL,
            expires_at REAL NOT NULL
        )
    """)

init_database()

# 3. –ë–ò–ó–ù–ï–°-–õ–û–ì–ò–ö–ê (—Å SQLite)
def get_user($username):
    $result = db_query_one($db, "SELECT * FROM users WHERE username = ?", [$username])
    if $result["success"] and $result["row"] != None:
        return $result["row"]
    return None

def create_session($username):
    $token = generate_token($username)
    $now = time()
    $expires = $now + 3600
    db_execute($db, 
        "INSERT INTO sessions (token, username, created_at, expires_at) VALUES (?, ?, ?, ?)",
        [$token, $username, $now, $expires]
    )
    return $token

# 4. HTTP –û–ë–†–ê–ë–û–¢–ß–ò–ö
def handle_request($method, $path, %headers, $body):
    if $path == "/" and $method == "GET":
        return html_response($LOGIN_PAGE)
    
    if $path == "/login" and $method == "POST":
        %form = parse_form($body)
        $user = check_login(%form["username"], %form["password"])
        if $user == None:
            return {status: 302, headers: {"Location": "/?error=1"}, body: ""}
        $token = create_session(%form["username"])
        return {status: 302, headers: {"Location": "/dashboard", "Set-Cookie": "session=" + $token}, body: ""}
    
    return html_response($ERROR_PAGE, 404)

# 5. –≠–ö–°–ü–û–†–¢ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
$app = {handle: &handle_request, port: int($PORT)}
```

### Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

| URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `GET /` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ —Å –∫—Ä–∞—Å–∏–≤—ã–º UI |
| `POST /login` | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| `GET /dashboard` | –î–∞—à–±–æ—Ä–¥ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| `POST /logout` | –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã |

### REST API

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/status` | –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ |
| GET | `/api/users` | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| GET | `/api/sessions` | –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ |
| GET | `/api/activity` | –õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ |
| GET | `/api/user/{name}` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ |
| POST | `/api/user/create` | –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/verify` | –ü—Ä–æ–≤–µ—Ä–∫–∞ credentials (JSON) |
| POST | `/api/validate` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ —Å–µ—Å—Å–∏–∏ |
| POST | `/api/logout` | –í—ã—Ö–æ–¥ (API) |

### –ü—Ä–∏–º–µ—Ä—ã API-–∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ credentials
curl -X POST -H "Content-Type: application/json" \
     -d '{"username":"admin","password":"admin123"}' \
     http://localhost:8080/api/verify

# –û—Ç–≤–µ—Ç: {"success": true, "token": "...", "user": {...}}

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:8080/api/status

# –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
curl http://localhost:8080/api/users

# –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
curl http://localhost:8080/api/sessions

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST -H "Content-Type: application/json" \
     -d '{"username":"newuser","password":"pass123","role":"User"}' \
     http://localhost:8080/api/user/create
```

### –¢–µ—Å—Ç–æ–≤—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –õ–æ–≥–∏–Ω | –ü–∞—Ä–æ–ª—å | –†–æ–ª—å |
|-------|--------|------|
| `admin` | `admin123` | Administrator |
| `user` | `user123` | User |
| `guest` | `guest123` | Guest |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL,
    role TEXT NOT NULL DEFAULT 'User',
    name TEXT,
    email TEXT,
    created_at REAL,
    last_login REAL
);

-- –°–µ—Å—Å–∏–∏
CREATE TABLE sessions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    token TEXT UNIQUE NOT NULL,
    username TEXT NOT NULL,
    created_at REAL NOT NULL,
    expires_at REAL NOT NULL,
    ip_address TEXT,
    user_agent TEXT
);

-- –õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
CREATE TABLE activity_log (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT,
    action TEXT NOT NULL,
    details TEXT,
    ip_address TEXT,
    created_at REAL NOT NULL
);
```

---

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|----------|
| `True` | `True` | –ò—Å—Ç–∏–Ω–∞ |
| `False` | `False` | –õ–æ–∂—å |
| `None` | `None` | –ü—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| `PI` | 3.141592653589793 | –ß–∏—Å–ª–æ œÄ |
| `E` | 2.718281828459045 | –ß–∏—Å–ª–æ e |
| `INF` | `float('inf')` | –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å |
| `NAN` | `float('nan')` | –ù–µ —á–∏—Å–ª–æ |

---

## VSCode Extension *(NEW v2.0)*

Pyrl –∏–º–µ–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Visual Studio Code.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd vscode-pyrl
code --install-extension .
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| üé® –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ | –í—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —è–∑—ã–∫–∞ Pyrl |
| üìù –°–Ω–∏–ø–ø–µ—Ç—ã | –ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞ |
| üîç –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ |
| ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ —Å–∫–æ–±–æ–∫, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |

### –°–Ω–∏–ø–ø–µ—Ç—ã

| –ü—Ä–µ—Ñ–∏–∫—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|-----------|
| `pyrl-def` | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| `pyrl-class` | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ |
| `pyrl-if` | –£—Å–ª–æ–≤–∏–µ if |
| `pyrl-for` | –¶–∏–∫–ª for |
| `pyrl-while` | –¶–∏–∫–ª while |
| `pyrl-web` | Web-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ |

### –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [VSCODE_PLUGIN.md](VSCODE_PLUGIN.md) –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

---

## AI Model *(NEW v2.2)*

Pyrl –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏

```
models/pyrl-model/
‚îú‚îÄ‚îÄ config.json              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ vocab.json               # –°–ª–æ–≤–∞—Ä—å —Ç–æ–∫–µ–Ω–æ–≤ (10,000)
‚îú‚îÄ‚îÄ tokenizer_config.json    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ special_tokens_map.json  # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
‚îî‚îÄ‚îÄ training_stats.json      # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from scripts.model_inference import PyrlModel

model = PyrlModel.load("models/pyrl-model")
code = model.generate("def fibonacci($n):")
print(code)
```

### –û–±—É—á–µ–Ω–∏–µ —Å–≤–æ–µ–π –º–æ–¥–µ–ª–∏

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤
python scripts/generate_examples.py --count 10000

# –û–±—É—á–µ–Ω–∏–µ
python scripts/train_model.py --epochs 20 --batch-size 32
```

### Docker –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

```bash
# –° GPU
docker-compose --profile training up -d training
```

### –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [AI_MODEL.md](AI_MODEL.md) –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**Pyrl Team**
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: http://178.140.10.58:8082/ai/pyrl-project.git
