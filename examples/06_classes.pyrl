# Classes in Pyrl
# Demonstrates object-oriented programming with Pyrl-style classes

# ===========================================
# BASIC CLASS DEFINITION
# ===========================================

class Person:
    def __init__($self, $name, $age):
        $self.name = $name
        $self.age = $age
    
    def greet($self):
        return "Hello, I'm " + $self.name
    
    def get_info($self):
        return $self.name + " is " + str($self.age) + " years old"

# Create instances
$alice = Person("Alice", 30)
$bob = Person("Bob", 25)

print($alice.greet())
print($bob.get_info())

# ===========================================
# CLASS WITH METHODS
# ===========================================

class Counter:
    def __init__($self, $start):
        $self.count = $start
    
    def increment($self):
        $self.count = $self.count + 1
        return $self.count
    
    def decrement($self):
        $self.count = $self.count - 1
        return $self.count
    
    def get($self):
        return $self.count
    
    def reset($self, $value):
        $self.count = $value

$counter = Counter(0)
print("Initial: " + str($counter.get()))
print("After increment: " + str($counter.increment()))
print("After increment: " + str($counter.increment()))
print("After decrement: " + str($counter.decrement()))
$counter.reset(100)
print("After reset: " + str($counter.get()))

# ===========================================
# CLASS WITH CALCULATION
# ===========================================

class Rectangle:
    def __init__($self, $w, $h):
        $self.width = $w
        $self.height = $h
    
    def area($self):
        return $self.width * $self.height
    
    def perimeter($self):
        return 2 * ($self.width + $self.height)
    
    def is_square($self):
        return $self.width == $self.height
    
    def scale($self, $factor):
        $self.width = $self.width * $factor
        $self.height = $self.height * $factor

$rect = Rectangle(10, 20)
print("Area: " + str($rect.area()))
print("Perimeter: " + str($rect.perimeter()))
print("Is square: " + str($rect.is_square()))

$square = Rectangle(5, 5)
print("Square area: " + str($square.area()))
print("Is square: " + str($square.is_square()))

# ===========================================
# UTILITY CLASS
# ===========================================

class Calculator:
    def __init__($self, $initial):
        $self.result = $initial
    
    def add($self, $x):
        $self.result = $self.result + $x
        return $self.result
    
    def subtract($self, $x):
        $self.result = $self.result - $x
        return $self.result
    
    def multiply($self, $x):
        $self.result = $self.result * $x
        return $self.result
    
    def divide($self, $x):
        $self.result = $self.result / $x
        return $self.result
    
    def get($self):
        return $self.result

$calc = Calculator(10)
print("Initial: " + str($calc.get()))
print("Add 5: " + str($calc.add(5)))
print("Multiply 2: " + str($calc.multiply(2)))
print("Subtract 3: " + str($calc.subtract(3)))

# ===========================================
# CLASS FOR DATA MODELING
# ===========================================

class BankAccount:
    def __init__($self, $owner_name, $initial_balance):
        $self.owner = $owner_name
        $self.balance = $initial_balance
    
    def deposit($self, $amount):
        if $amount > 0:
            $self.balance = $self.balance + $amount
            return True
        return False
    
    def withdraw($self, $amount):
        if $amount > 0 and $amount <= $self.balance:
            $self.balance = $self.balance - $amount
            return True
        return False
    
    def get_balance($self):
        return $self.balance

$account1 = BankAccount("Alice", 1000)
$account2 = BankAccount("Bob", 500)

print("Alice balance: $" + str($account1.get_balance()))
print("Bob balance: $" + str($account2.get_balance()))

$account1.deposit(200)
print("After deposit, Alice: $" + str($account1.get_balance()))

$account1.withdraw(300)
print("After withdraw, Alice: $" + str($account1.get_balance()))
